{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.module.ts","./src/app/components/app.component.ts","./src/app/components/app.component.html","./src/app/components/empty/empty.component.ts","./src/app/components/empty/empty.component.html","./src/app/components/login/login.component.ts","./src/app/components/login/login.component.html","./src/app/components/movie-room/movie-room.component.ts","./src/app/components/movie-room/movie-room.component.html","./src/app/components/movielist/movielist.component.ts","./src/app/components/movielist/movielist.component.html","./src/app/entities/messageType.ts","./src/app/entities/messageWrapper.ts","./src/app/entities/requests/chatMessagesRequest.ts","./src/app/entities/requests/movieCommentsRequest.ts","./src/app/entities/requests/movieListRequest.ts","./src/app/entities/requests/movieRoomPauseRequest.ts","./src/app/entities/requests/movieRoomPlayRequest.ts","./src/app/entities/requests/movieRoomRequest.ts","./src/app/entities/requests/movieRoomSeekRequest.ts","./src/app/entities/requests/movieRoomWithIdRequest.ts","./src/app/entities/requests/movieRoomsRequest.ts","./src/app/entities/requests/saveUserRequest.ts","./src/app/entities/requests/sendChatMessageRequest.ts","./src/app/entities/requests/sendMovieCommentRequest.ts","./src/app/guards/auth.guard.ts","./src/app/services/appConfig.service.ts","./src/app/services/websocket.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MovielistComponent } from './components/movielist/movielist.component';\nimport { AuthGuard } from './guards/auth.guard';\nimport { EmptyComponent } from './components/empty/empty.component';\nimport { MovieRoomComponent } from './components/movie-room/movie-room.component';\n\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: EmptyComponent,\n    canActivate: [AuthGuard]\n  },\n  {\n    path: \"movies\",\n    children:[\n      {\n        path :\":room-id\",\n        component: MovieRoomComponent,\n        pathMatch:\"full\",\n        canActivate: [AuthGuard]\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { LoginComponent } from './components/login/login.component';\nimport { MovielistComponent } from './components/movielist/movielist.component';\nimport { MovieRoomComponent } from './components/movie-room/movie-room.component';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './components/app.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { SocialLoginModule, AuthServiceConfig, GoogleLoginProvider } from 'angularx-social-login';\nimport { EmptyComponent } from './components/empty/empty.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatVideoModule } from 'mat-video';\n\nconst config = new AuthServiceConfig([\n  {\n    id: GoogleLoginProvider.PROVIDER_ID,\n    provider: new GoogleLoginProvider(\"989131655048-3aj5o2omgm1fht1itf1v4j8r6lutnoss.apps.googleusercontent.com\")\n  }\n]);\nexport function provideConfig() {\n  return config;\n}\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginComponent,\n    MovielistComponent,\n    MovieRoomComponent,\n    EmptyComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    ReactiveFormsModule,\n    SocialLoginModule,\n    BrowserAnimationsModule,\n    MatVideoModule\n  ],\n  providers: [\n    {\n      provide: AuthServiceConfig,\n      useFactory: provideConfig\n    }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { AuthService, SocialUser } from 'angularx-social-login';\nimport { WebSocketsService } from '../services/websocket.service';\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit, OnDestroy {\n  title = 'videostreamer';\n  signinForm: FormGroup;\n  user: SocialUser;\n  loggedIn: boolean;\n\n  constructor(private authService: AuthService, private webSocketService: WebSocketsService) {\n  }\n\n  ngOnInit() {\n    this.webSocketService.start();\n  }\n\n  ngOnDestroy(): void {\n    this.webSocketService.stop();\n  }\n\n  // signInWithGoogle(): void {\n  //   this.authService.signIn(GoogleLoginProvider.PROVIDER_ID);\n  // }\n  signOut(): void {\n    this.authService.signOut();\n  }\n}","\n\n<!-- <script src=\"https://apis.google.com/js/platform.js\" async defer></script>\n<meta name=\"google-signin-client_id\" content=\"989131655048-3aj5o2omgm1fht1itf1v4j8r6lutnoss.apps.googleusercontent.com\">\n<div class=\"g-signin2\" data-onsuccess=\"onSignIn\"></div> -->\n\n\n<!-- <html lang=\"en\"> -->\n\n<!-- <head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n  <title>Document</title>\n</head> -->\n<!-- \n<body class=\"bg-light\">\n  <div class=\"container\">\n    <div class=\"row py-5 justify-content-center\">\n      <div class=\"col-md-8\">\n        <h1 class=\"text-center py-4\">Sign In in Angular 8</h1>\n        <div *ngIf=\"loggedIn===false\">\n          <form [formGroup]=\"signinForm\">\n            <div class=\"form-group\">\n              <label for=\"email\">Email</label>\n              <input type=\"text\" class=\"form-control\" id=\"email\" formControlName=\"email\">\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"password\">Password</label>\n              <input type=\"password\" class=\"form-control\" id=\"password\" formControlName=\"password\">\n            </div>\n          </form>\n          <div>\n            <p>Or</p>\n          </div>\n          <div>\n            <button type=\"button\" (click)=\"signInWithGoogle()\" class=\"btn btn-primary\">Sign In With Google</button>\n          </div>\n        </div>\n        <div *ngIf=\"loggedIn===true\">\n          <div class=\"form-group\">\n            <label for=\"firstname\">First Name</label>\n            <input type=\"text\" class=\"form-control\" id=\"firstname\" [value]=\"user.firstName\" readonly>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"lastname\">Last Name</label>\n            <input type=\"text\" class=\"form-control\" id=\"idToken\" [value]=\"user.idToken\" readonly>\n          </div>\n          <div class=\"form-group\">\n            <label for=\"email2\">Email</label>\n            <input type=\"text\" class=\"form-control\" id=\"authToken\" [value]=\"user.authToken\" readonly>\n          </div>\n\n          <button type=\"button\" (click)=\"signOut()\" class=\"btn btn-primary\">Sign Out</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</body> -->\n\n<!-- </html> -->\n<router-outlet></router-outlet>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-empty',\n  templateUrl: './empty.component.html',\n  styleUrls: ['./empty.component.scss']\n})\nexport class EmptyComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n    \n  }\n\n}\n","<movie-list></movie-list>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>login works!</p>\n","import { Component, OnInit, ViewChild, ChangeDetectorRef } from '@angular/core';\nimport { ActivatedRoute } from \"@angular/router\";\nimport { WebSocketsService } from 'src/app/services/websocket.service';\nimport { Observer } from 'rxjs';\nimport { MovieRoom } from 'src/app/entities/movieRoom';\nimport { MatVideoComponent } from 'mat-video/lib/video.component';\nimport { ChatMessage } from 'src/app/entities/chatMessage';\nimport { AuthService, SocialUser } from 'angularx-social-login';\n\n\n@Component({\n  selector: 'app-movie-room',\n  templateUrl: './movie-room.component.html',\n  styleUrls: ['./movie-room.component.scss']\n})\nexport class MovieRoomComponent implements OnInit {\n\n  private video: MatVideoComponent;\n  @ViewChild('video') set matVideo(matVideo: MatVideoComponent) {\n    if (matVideo) { // initially setter gets called with undefined\n      this.video = matVideo;\n    }\n  }\n\n  room: MovieRoom;\n  roomId: string;\n\n  chatMessages: ChatMessage[] = [];\n\n  ngclass: any;\n  src: string = \"http://static.videogular.com/assets/videos/videogular.mp4\";\n  title: string = this.room ? this.room.Movie.Title : \"Not loaded yet\";\n  autoplay: boolean = true;\n  preload: boolean = true;\n  loop: boolean = false;\n  fullscreen: boolean = false;\n  download: boolean = false;\n  quality: boolean = true;\n  keyboard: boolean = true;\n  color: any;\n  spinner: any;\n  poster: any;\n  muted: boolean = true;\n  overlay: boolean = true;\n  showFrameByFrame: boolean = false;\n  currentTime: number = 1;\n\n  seekedByWS: boolean = false;\n\n  user: SocialUser;\n\n  constructor(private route: ActivatedRoute,\n    private changeDetector: ChangeDetectorRef,\n    private webSocketService: WebSocketsService,\n    private authService: AuthService) {\n\n    this.route.params.subscribe(params => {\n      console.log(params);\n\n      this.authService.authState.subscribe(user => {\n        if (user !== null && user !== undefined) {\n          this.user = user;\n\n          this.roomId = params[\"room-id\"];\n          console.log(this.roomId);\n          this.webSocketService.sendMovieRoomWithIdRequest(this.roomId);\n          this.webSocketService.sendChatMessagesRequest(this.roomId);\n        }\n      })\n    });\n  }\n\n  ngOnInit(): void {\n    this.createMovieRoomResponsesSubscription();\n    this.createMovieRoomUpdatesSubscription();\n\n    this.createMovieRoomPauseUpdatesSubscription();\n    this.createMovieRoomPlayUpdatesSubscription();\n    this.createMovieRoomSeekUpdatesSubscription();\n\n    this.createChatMessagesReponsesSubscription();\n    this.createChatMessageUpdatesSubscription();\n  }\n\n  sendMessage(value: string) {\n    let chatMessage: ChatMessage = {\n      Id: \"\",\n      RoomId: this.roomId,\n      User: this.user,\n      Message: value,\n      VoiceMessage: \"voice message cica\",\n      DateTime: new Date(),\n      MovieCurrentTime: this.currentTime // seconds into the movie\n    };\n\n    this.chatMessages.push(chatMessage);\n\n    this.webSocketService.sendChatMessageRequest(this.roomId, chatMessage);\n  }\n\n  private processMovieRoom(room: MovieRoom): void {\n    console.debug('Movie Room received through the observer:\\n%o', room);\n\n    this.room = room;\n    this.title = room.Movie.Title;\n    this.changeDetector.detectChanges();\n\n    this.currentTime = room.TimeWatched;\n\n    this.video.timeChange.subscribe(() => {\n      // send ws request to update timewatched \n    });\n\n    this.video.getVideoTag().onpause = () => {\n      // check if it's on pause already-> don't make request\n      console.log(`on pause called, current time: ${this.video.getVideoTag().currentTime}`);\n\n      // send ws request to pause video for all\n      this.webSocketService.sendPauseRequest(this.roomId, this.video.getVideoTag().currentTime);\n    }\n\n    this.video.getVideoTag().onplay = () => {\n      console.log(`on play called, current time: ${this.video.getVideoTag().currentTime}`);\n\n      // send ws reuqest to play the video\n      this.webSocketService.sendPlayRequest(this.roomId, this.video.getVideoTag().currentTime);\n    }\n\n    this.video.getVideoTag().onseeked = () => {\n      console.log(`on seeked moved called, current time: ${this.video.getVideoTag().currentTime}`);\n      if (!this.seekedByWS) {\n        // send ws request to update the time\n        this.webSocketService.sendSeekRequest(this.roomId, this.video.getVideoTag().currentTime);\n      }\n\n      this.seekedByWS = false;\n    }\n\n    console.log(`title: ${this.video.title}`);\n  }\n\n  private pause(roomId: string, currentTime: number) {\n    if (roomId !== this.roomId) {\n      return;\n    }\n\n    this.changeDetector.detectChanges();\n    this.video.getVideoTag().pause();\n\n    this.currentTime = currentTime;\n  }\n\n  private play(roomId: string, currentTime: number) {\n    if (roomId !== this.roomId) {\n      return;\n    }\n\n    this.changeDetector.detectChanges();\n    this.video.getVideoTag().play();\n\n    this.currentTime = currentTime;\n  }\n\n  private seek(roomId: string, currentTime: number) {\n    if (roomId !== this.roomId) {\n      return;\n    }\n\n    this.changeDetector.detectChanges();\n    this.seekedByWS = true;\n\n    this.video.getVideoTag().currentTime = currentTime;\n\n    this.currentTime = currentTime;\n  }\n\n  private setChatMessages(roomId: string, chatMessages: ChatMessage[]) {\n    if (roomId !== this.roomId) {\n      return;\n    }\n\n    if (!chatMessages) {\n      return;\n    }\n\n    this.chatMessages = chatMessages;\n  }\n\n  private addChatMessage(chatMessage: ChatMessage) {\n    if (!chatMessage) {\n      return;\n    }\n\n    if (chatMessage.RoomId !== this.roomId) {\n      return;\n    }\n\n    this.chatMessages.push(chatMessage);\n  }\n\n  private createMovieRoomResponsesSubscription() {\n    let self = this;\n    const movieRoomResponsesObserver: Observer<MovieRoom> = {\n      next: function (room: MovieRoom): void {\n        self.processMovieRoom(room);\n      },\n\n      error: function (err: any): void {\n        console.error('Error: %o', err);\n      },\n\n      complete: function (): void {\n        console.log('No more movies responses');\n      }\n    };\n\n    this.webSocketService.subscribeToMovieRoomResponses(movieRoomResponsesObserver);\n  }\n\n  private createMovieRoomUpdatesSubscription() {\n    let self = this;\n    const movieRoomUpdatesObserver: Observer<MovieRoom> = {\n      next: function (room: MovieRoom): void {\n        if (room.Id !== self.roomId) {\n          return;\n        }\n\n        self.processMovieRoom(room);\n      },\n\n      error: function (err: any): void {\n        console.error('Error: %o', err);\n      },\n\n      complete: function (): void {\n        console.log('No more movies responses');\n      }\n    };\n\n    this.webSocketService.subscribeToMovieRoomUpdates(movieRoomUpdatesObserver);\n  }\n\n  private createMovieRoomPauseUpdatesSubscription() {\n    let self = this;\n    const movieRoomResponsesObserver: Observer<MovieRoom> = {\n      next: function (room: MovieRoom): void {\n        self.pause(room.Id, room.TimeWatched);\n      },\n\n      error: function (err: any): void {\n        console.error('Error: %o', err);\n      },\n\n      complete: function (): void {\n        console.log('No more movies responses');\n      }\n    };\n\n    this.webSocketService.subscribeToMovieRoomPauseUpdates(movieRoomResponsesObserver);\n  }\n\n  private createMovieRoomPlayUpdatesSubscription() {\n    let self = this;\n    const movieRoomUpdatesObserver: Observer<MovieRoom> = {\n      next: function (room: MovieRoom): void {\n        self.play(room.Id, room.TimeWatched);\n      },\n\n      error: function (err: any): void {\n        console.error('Error: %o', err);\n      },\n\n      complete: function (): void {\n        console.log('No more movies responses');\n      }\n    };\n\n    this.webSocketService.subscribeToMovieRoomPlayUpdates(movieRoomUpdatesObserver);\n  }\n\n  private createMovieRoomSeekUpdatesSubscription() {\n    let self = this;\n    const movieRoomUpdatesObserver: Observer<MovieRoom> = {\n      next: function (room: MovieRoom): void {\n        self.seek(room.Id, room.TimeWatched);\n      },\n\n      error: function (err: any): void {\n        console.error('Error: %o', err);\n      },\n\n      complete: function (): void {\n        console.log('No more movies responses');\n      }\n    };\n\n    this.webSocketService.subscribeToMovieRoomSeekUpdates(movieRoomUpdatesObserver);\n  }\n\n  private createChatMessagesReponsesSubscription() {\n    let self = this;\n    const chatMessagesResponseObserver: Observer<ChatMessage[]> = {\n      next: function (messages: ChatMessage[]): void {\n        if (!messages || messages.length === 0) {\n          return;\n        }\n\n        self.setChatMessages(messages[0].RoomId, messages);\n      },\n\n      error: function (err: any): void {\n        console.error('Error: %o', err);\n      },\n\n      complete: function (): void {\n        console.log('No more chat messages responses');\n      }\n    };\n\n    this.webSocketService.subscribeToChatMessagesReponses(chatMessagesResponseObserver);\n  }\n\n  private createChatMessageUpdatesSubscription() {\n    let self = this;\n    const chatMessagesUpdateObserver: Observer<ChatMessage> = {\n      next: function (message: ChatMessage): void {\n        if (!message) {\n          return;\n        }\n\n        self.addChatMessage(message);\n      },\n\n      error: function (err: any): void {\n        console.error('Error: %o', err);\n      },\n\n      complete: function (): void {\n        console.log('No more chat message updates');\n      }\n    };\n\n    this.webSocketService.subscribeToChatMessageUpdates(chatMessagesUpdateObserver);\n  }\n}\n","<p>movie-room works!</p>\n\n<div *ngIf=\"room!==undefined\">\n  <p>{{room.Users}}</p>\n  <p>{{room.Id}}</p>\n\n  <input #box (keyup.enter)=\"sendMessage(box.value)\">\n\n  <div>\n    <ul>\n      <li *ngFor=\"let message of chatMessages\">\n        <p>{{message.User.name}}</p>\n        <p>{{message.Message}}</p>\n      </li>\n    </ul>\n  </div>\n\n  <div margin=\"100px\">\r\n    <mat-video #video [src]=\"src\" [title]=\"title\" [autoplay]=\"autoplay\" [preload]=\"preload\" [loop]=\"loop\"\r\n               [fullscreen]=\"fullscreen\" [download]=\"download\" [quality]=\"quality\" [keyboard]=\"keyboard\" [color]=\"color\"\r\n               [spinner]=\"spinner\" [poster]=\"poster\" [overlay]=\"overlay\" [(muted)]=\"muted\"\r\n               [showFrameByFrame]=\"showFrameByFrame\" [(time)]=\"currentTime\">\r\n    </mat-video>\r\n  </div>\r\n\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\nimport { WebSocketsService } from 'src/app/services/websocket.service';\nimport { Observer } from 'rxjs';\nimport { Movie } from 'src/app/entities/movie';\nimport { Router } from '@angular/router';\nimport { MovieRoom } from 'src/app/entities/movieRoom';\n\n@Component({\n  selector: 'movie-list',\n  templateUrl: './movielist.component.html',\n  styleUrls: ['./movielist.component.scss']\n})\nexport class MovielistComponent implements OnInit {\n\n  movies: Movie[] = [];\n  movieRooms: MovieRoom[] = [];\n  constructor(private webSocketService: WebSocketsService, private router: Router) { }\n\n  ngOnInit(): void {\n    this.createMovieListResponsesSubscription();\n    this.createMovieListUpdatesSubscription();\n\n    this.createMovieRoomsResponsesSubscription();\n    this.createMovieRoomsUpdatesSubscription();\n\n    this.createMovieRoomResponsesSubscription();\n    this.createMovieRoomUpdatesSubscription();\n\n    this.webSocketService.sendMovieListRequest();\n    this.webSocketService.sendMovieRoomsRequest();\n  }\n\n  goToMovie(movie: Movie) {\n    console.log(movie);\n\n    this.webSocketService.sendMovieRoomRequest(movie.Id);\n  }\n\n  private processMovies(movieList: Movie[]): void {\n    console.debug('Movies received through the observer:\\n%o', movieList);\n\n    this.movies = movieList;\n  }\n\n  private processMovieRoom(room: MovieRoom): void {\n    console.debug('Movie Room received through the observer:\\n%o', room);\n\n    this.router.navigate([`movies/${room.Id}`]);\n  }\n\n  private processMovieRooms(rooms: MovieRoom[]): void {\n    console.debug('Movie Rooms received through the observer:\\n%o', rooms);\n\n    this.movieRooms = rooms;\n  }\n\n  private createMovieListResponsesSubscription() {\n    let self = this;\n    const movieListResponsesObserver: Observer<Movie[]> = {\n      next: function (movies: Movie[]): void {\n        self.processMovies(movies);\n      },\n\n      error: function (err: any): void {\n        console.error('Error: %o', err);\n      },\n\n      complete: function (): void {\n        console.log('No more movies responses');\n      }\n    };\n\n    this.webSocketService.subscribeToMovieListResponses(movieListResponsesObserver);\n  }\n\n  private createMovieListUpdatesSubscription() {\n    let self = this;\n    const movieListUpdatesObserver: Observer<Movie[]> = {\n      next: function (movies: Movie[]): void {\n        self.processMovies(movies);\n      },\n\n      error: function (err: any): void {\n        console.error('Error: %o', err);\n      },\n\n      complete: function (): void {\n        console.log('No more movies updates');\n      }\n    };\n\n    this.webSocketService.subscribeToMovieListUpdates(movieListUpdatesObserver);\n  }\n\n  private createMovieRoomsResponsesSubscription() {\n    let self = this;\n    const movieRoomsResponsesObserver: Observer<MovieRoom[]> = {\n      next: function (movieRooms: MovieRoom[]): void {\n        self.processMovieRooms(movieRooms);\n      },\n\n      error: function (err: any): void {\n        console.error('Error: %o', err);\n      },\n\n      complete: function (): void {\n        console.log('No more movies responses');\n      }\n    };\n\n    this.webSocketService.subscribeToMovieRoomsResponses(movieRoomsResponsesObserver);\n  }\n\n  private createMovieRoomsUpdatesSubscription() {\n    let self = this;\n    const movieRoomsUpdatesObserver: Observer<MovieRoom[]> = {\n      next: function (movieRooms: MovieRoom[]): void {\n        self.processMovieRooms(movieRooms);\n      },\n\n      error: function (err: any): void {\n        console.error('Error: %o', err);\n      },\n\n      complete: function (): void {\n        console.log('No more movies updates');\n      }\n    };\n\n    this.webSocketService.subscribeToMovieRoomsUpdates(movieRoomsUpdatesObserver);\n  }\n\n  private createMovieRoomResponsesSubscription() {\n    let self = this;\n    const movieRoomResponsesObserver: Observer<MovieRoom> = {\n      next: function (room: MovieRoom): void {\n        self.processMovieRoom(room);\n      },\n\n      error: function (err: any): void {\n        console.error('Error: %o', err);\n      },\n\n      complete: function (): void {\n        console.log('No more movies responses');\n      }\n    };\n\n    this.webSocketService.subscribeToMovieRoomResponses(movieRoomResponsesObserver);\n  }\n\n  private createMovieRoomUpdatesSubscription() {\n    let self = this;\n    const movieRoomUpdatesObserver: Observer<MovieRoom> = {\n      next: function (room: MovieRoom): void {\n        self.processMovieRoom(room);\n      },\n\n      error: function (err: any): void {\n        console.error('Error: %o', err);\n      },\n\n      complete: function (): void {\n        console.log('No more movies responses');\n      }\n    };\n\n    this.webSocketService.subscribeToMovieRoomUpdates(movieRoomUpdatesObserver);\n  }\n}\n","<p>movielist works!</p>\n<div *ngIf=\"movies.length > 0\" class=\"bold\">\n    <h3>Movies</h3>\n</div>\n<p>Movies count:{{movies.length}}</p>\n<div>\n    <ul>\n        <li *ngFor=\"let movie of movies\">\n            <button (click)=\"goToMovie(movie)\">{{movie.Title}}</button>\n        </li>\n    </ul>\n</div>\n\n<div>\n    <p>Movie rooms count: {{movieRooms.length}}\n    <ul>\n        <li *ngFor=\"let room of movieRooms\">\n            <button>{{room.Id}}</button>\n        </li>\n    </ul>\n</div>","export enum MessageType {\r\n\r\n  SAVE_USER_REQUEST = 'SAVE_USER_REQUEST',\r\n  \r\n  MOVIE_LIST_REQUEST = 'MOVIE_LIST_REQUEST',\r\n  MOVIE_LIST_RESPONSE = 'MOVIE_LIST_RESPONSE',\r\n  MOVIE_LIST_UPDATE = 'MOVIE_LIST_UPDATE',\r\n\r\n  MOVIE_ROOMS_REQUEST = 'MOVIE_ROOMS_REQUEST',\r\n  MOVIE_ROOMS_RESPONSE = 'MOVIE_ROOMS_RESPONSE',\r\n  MOVIE_ROOMS_UPDATE = 'MOVIE_ROOMS_UPDATE',\r\n\r\n  MOVIE_ROOM_REQUEST = 'MOVIE_ROOM_REQUEST',\r\n  MOVIE_ROOM_WITH_ID_REQUEST = 'MOVIE_ROOM_WITH_ID_REQUEST',\r\n  MOVIE_ROOM_RESPONSE = 'MOVIE_ROOM_RESPONSE',\r\n  MOVIE_ROOM_UPDATE = 'MOVIE_ROOM_UPDATE',\r\n\r\n  MOVIE_STREAM_REQUEST = 'MOVIE_STREAM_REQUEST',\r\n  MOVIE_STREAM_RESPONSE = 'MOVIE_STREAM_RESPONSE',\r\n  MOVIE_STREAM_UPDATE = 'MOVIE_STREAM_UPDATE',\r\n  \r\n  MOVIE_CHAT_REQUEST = 'MOVIE_CHAT_REQUEST',\r\n  MOVIE_CHAT_RESPONSE = 'MOVIE_CHAT_RESPONSE',\r\n  MOVIE_CHAT_UPDATE = 'MOVIE_CHAT_UPDATE',\r\n\r\n  SEND_CHAT_MESSAGE_REQUEST = 'SEND_CHAT_MESSAGE_REQUEST',\r\n  CHAT_MESSAGES_REQUEST = 'CHAT_MESSAGES_REQUEST',\r\n  CHAT_MESSAGES_RESPONSE = 'CHAT_MESSAGES_RESPONSE',\r\n  CHAT_MESSAGE_UPDATE = 'CHAT_MESSAGE_UPDATE',\r\n\r\n  SEND_MOVIE_COMMENT_REQUEST = 'SEND_MOVIE_COMMENT_REQUEST',\r\n  MOVIE_COMMENTS_REQUEST = 'MOVIE_COMMENTS_REQUEST',\r\n  MOVIE_COMMENTS_RESPONSE = 'MOVIE_COMMENTS_RESPONSE',\r\n  MOVIE_COMMENT_UPDATE = 'MOVIE_COMMENT_UPDATE',\r\n\r\n  MOVIE_ROOM_PAUSE_REQUEST = 'MOVIE_ROOM_PAUSE_REQUEST',\r\n  MOVIE_ROOM_PAUSE_UPDATE = 'MOVIE_ROOM_PAUSE_UPDATE',\r\n  \r\n  MOVIE_ROOM_PLAY_REQUEST = 'MOVIE_ROOM_PLAY_REQUEST',\r\n  MOVIE_ROOM_PLAY_UPDATE = 'MOVIE_ROOM_PLAY_UPDATE',\r\n  \r\n  MOVIE_ROOM_SEEK_REQUEST = 'MOVIE_ROOM_SEEK_REQUEST',\r\n  MOVIE_ROOM_SEEK_UPDATE = 'MOVIE_ROOM_SEEK_UPDATE',\r\n\r\n  MOVIE_CLOSE_REQUEST = 'MOVIE_CLOSE_REQUEST',\r\n  MOVIE_CLOSE_RESPONSE = 'MOVIE_CLOSE_RESPONSE',\r\n\r\n  // hmm............... idk if personal is needed or doable in the current implementation\r\n  MOVIE_CLOSE_PERSONAL_REQUEST = 'MOVIE_CLOSE_PERSONAL_REQUEST',\r\n  MOVIE_CLOSE_PERSONAL_RESPONSE = 'MOVIE_CLOSE_PERSONAL_RESPONSE'\r\n}\r\n","import { MessageType } from './messageType';\r\nexport class MessageWrapper {\r\n\r\n  readonly type: string;\r\n  readonly payload: string;\r\n\r\n  constructor(messageType: MessageType, payload: Object) {\r\n    this.type = messageType;\r\n    this.payload = JSON.stringify(payload);\r\n  }\r\n}\r\n","export class ChatMessagesRequest {\r\n\r\n  public roomId: string;\r\n  public userId: string;\r\n\r\n  constructor(roomId: string, userId: string) {\r\n    this.roomId = roomId;\r\n    this.userId = userId;\r\n  }\r\n}\r\n","export class MovieCommentsRequest {\r\n\r\n  public movieId: string;\r\n\r\n  constructor(movieId: string) {\r\n    this.movieId = movieId;\r\n  }\r\n}\r\n","export class MovieListRequest {\r\n \r\n  constructor () {\r\n  }\r\n}\r\n","export class MovieRoomPauseRequest {\r\n\r\n  public roomId: string;\r\n  public userId: string;\r\n  public currentTime: number;\r\n\r\n  constructor(roomId: string, userId: string, currentTime: number) {\r\n    this.roomId = roomId;\r\n    this.userId = userId;\r\n    this.currentTime = currentTime;\r\n  }\r\n}\r\n","export class MovieRoomPlayRequest {\r\n\r\n  public roomId: string;\r\n  public userId: string;\r\n  public currentTime: number;\r\n\r\n  constructor(roomId: string, userId: string, currentTime: number) {\r\n    this.roomId = roomId;\r\n    this.userId = userId;\r\n    this.currentTime = currentTime;\r\n  }\r\n}\r\n","export class MovieRoomRequest {\r\n\r\n  public movieId: string;\r\n  public userId: string;\r\n\r\n  constructor(movieId: string, userId: string) {\r\n    this.movieId = movieId;\r\n    this.userId = userId;\r\n  }\r\n}\r\n","export class MovieRoomSeekRequest {\r\n\r\n  public roomId: string;\r\n  public userId: string;\r\n  public currentTime: number;\r\n\r\n  constructor(roomId: string, userId: string, currentTime: number) {\r\n    this.roomId = roomId;\r\n    this.userId = userId;\r\n    this.currentTime = currentTime;\r\n  }\r\n}\r\n","export class MovieRoomWithIdRequest {\r\n\r\n  public roomId: string;\r\n  public userId: string;\r\n\r\n  constructor(roomId: string, userId: string) {\r\n    this.roomId = roomId;\r\n    this.userId = userId;\r\n  }\r\n}\r\n","export class MovieRoomsRequest {\r\n\r\n  public userId: string;\r\n\r\n  constructor(userId: string) {\r\n    this.userId = userId;\r\n  }\r\n}","import { SocialUser } from 'angularx-social-login';\r\n\r\nexport class SaveUserRequest {\r\n  \r\n  public user: SocialUser;\r\n\r\n  constructor(user: SocialUser) {\r\n    this.user = user;\r\n  }\r\n}\r\n","import { ChatMessage } from '../chatMessage';\r\n\r\nexport class SendChatMessageRequest {\r\n\r\n  public roomId: string;\r\n  public userId: string;\r\n  public chatMessage: ChatMessage;\r\n\r\n  constructor(roomId: string, userId: string, chatMessage: ChatMessage) {\r\n    this.roomId = roomId;\r\n    this.userId = userId;\r\n    this.chatMessage = chatMessage;\r\n  }\r\n}\r\n","import { MovieComment } from '../movieComment';\r\n\r\nexport class SendMovieCommentRequest {\r\n\r\n  public movieId: string;\r\n  public movieComment: MovieComment;\r\n\r\n  constructor(movieId: string, movieComment: MovieComment) {\r\n    this.movieId = movieId;\r\n    this.movieComment = movieComment;\r\n  }\r\n}\r\n","import { Injectable, OnInit } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthService, SocialUser, GoogleLoginProvider } from 'angularx-social-login';\nimport { CookieService } from 'ngx-cookie-service';\nimport { WebSocketsService } from '../services/websocket.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n  user: SocialUser;\n  loggedIn: boolean;\n\n  constructor(\n    private authService: AuthService,\n    private cookieService: CookieService,\n    private webSocketService: WebSocketsService,\n    private router: Router) {\n\n    this.authService.authState.subscribe((user) => {\n      this.user = user;\n      this.loggedIn = (user != null);\n\n      if(this.loggedIn){\n        console.log(this.user);\n\n        webSocketService.sendSaveUserRequest(user);\n\n        this.saveToCookie(\"authToken\", this.user.authToken);\n        this.saveToCookie(\"idToken\", this.user.idToken);\n      }\n    });\n  }\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    let existentCookie = this.cookieService.get(\"authToken\");\n    if (!existentCookie) {\n      this.signInWithGoogle();\n    } else {\n      // this.router.navigate([\"movies\"]);\n      return true;\n    }\n  }\n\n  /**\n   * Checks if the given value is valid, in which case it saves it to cookies under the given name.\n   * @param name name of the cookie\n   * @param value\n   */\n  private saveToCookie(name: string, value: string) {\n    if (!value || value === \"invalid\") {\n      return;\n    }\n\n    let existentCookie = this.cookieService.get(name);\n    if (existentCookie === value) {\n      return;\n    }\n\n    this.cookieService.set(name, value, 1, \"/\");\n  }\n\n  signInWithGoogle(): Promise<void> {\n    return this.authService.signIn(GoogleLoginProvider.PROVIDER_ID, { ux_mode: \"redirect\" }).then((user) => {\n      if (user !== null && user.authToken) {\n        this.router.navigateByUrl('/', { skipLocationChange: true }).then(() =>\n          this.router.navigate([\"\"]));\n      }\n    });\n  }\n}\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AppConfigService {\r\n\r\n  private appConfig: any;\r\n\r\n  constructor() { }\r\n\r\n  // public loadAppConfig(): Promise<string | void> {\r\n  //   // return this.httpClient.get('/assets/config.json')\r\n  //   //   .toPromise()\r\n  //   //   .then(data => {\r\n  //   //     this.appConfig = data;\r\n  //   // });\r\n  // }\r\n\r\n  public get webSocketsServerUrl(): string {\r\n    // if (!this.appConfig) {\r\n    //   throw Error('Config file not loaded!');\r\n    // }\r\n\r\n\r\n    // return \"ws://echo.websocket.org\";\r\n    return \"wss://localhost:44343/movies\";\r\n  }\r\n}\r\n","import { Injectable, OnInit } from '@angular/core';\nimport { Observer, Subject } from 'rxjs';\n\nimport { AppConfigService } from './appConfig.service';\nimport { MessageWrapper } from '../entities/messageWrapper';\nimport { MessageType } from '../entities/messageType';\nimport { Movie } from '../entities/movie';\nimport { MovieListRequest } from '../entities/requests/movieListRequest';\nimport { AuthService, SocialUser } from 'angularx-social-login';\nimport { MovieRoomRequest } from '../entities/requests/movieRoomRequest';\nimport { MovieRoom } from '../entities/movieRoom';\nimport { MovieRoomsRequest } from '../entities/requests/movieRoomsRequest';\nimport { SaveUserRequest } from '../entities/requests/saveUserRequest';\nimport { MovieRoomWithIdRequest } from '../entities/requests/movieRoomWithIdRequest';\nimport { MovieRoomPauseRequest } from '../entities/requests/movieRoomPauseRequest';\nimport { MovieRoomPlayRequest } from '../entities/requests/movieRoomPlayRequest';\nimport { MovieRoomSeekRequest } from '../entities/requests/movieRoomSeekRequest';\nimport { MovieRoomAction } from '../entities/movieRoomAction';\nimport { ChatMessage } from '../entities/chatMessage';\nimport { SendChatMessageRequest } from '../entities/requests/sendChatMessageRequest';\nimport { ChatMessagesRequest } from '../entities/requests/chatMessagesRequest';\nimport { MovieComment } from '../entities/movieComment';\nimport { MovieCommentsRequest } from '../entities/requests/movieCommentsRequest';\nimport { SendMovieCommentRequest } from '../entities/requests/sendMovieCommentRequest';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WebSocketsService {\n  private user: SocialUser;\n  private webSocket: WebSocket;\n\n  // Maybe we only need one balance subject\n  private movieListResponseSubject: Subject<Movie[]>;\n  private movieListUpdateSubject: Subject<Movie[]>;\n\n  private movieRoomsResponseSubject: Subject<MovieRoom[]>;\n  private movieRoomsUpdateSubject: Subject<MovieRoom[]>;\n\n  private movieRoomResponseSubject: Subject<MovieRoom>;\n  private movieRoomUpdateSubject: Subject<MovieRoom>;\n\n  private movieRoomPauseUpdateSubject: Subject<MovieRoom>;\n  private movieRoomPlayUpdateSubject: Subject<MovieRoom>;\n  private movieRoomSeekUpdateSubject: Subject<MovieRoom>;\n\n  private chatMessagesReponseSubject: Subject<ChatMessage[]>;\n  private chatMessageUpdateSubject: Subject<ChatMessage>;\n\n  private commentsReponseSubject: Subject<MovieComment[]>;\n  private commentUpdateSubject: Subject<MovieComment>;\n\n  constructor(private appConfigService: AppConfigService, private authService: AuthService) {\n    this.authService.authState.subscribe((user) => {\n      if (user !== null && user !== undefined) {\n        this.user = user;\n        console.log(this.user);\n      }\n    });\n\n    this.movieListResponseSubject = new Subject<Movie[]>();\n    this.movieListUpdateSubject = new Subject<Movie[]>();\n\n    this.movieRoomsResponseSubject = new Subject<MovieRoom[]>();\n    this.movieRoomsUpdateSubject = new Subject<MovieRoom[]>();\n\n    this.movieRoomResponseSubject = new Subject<MovieRoom>();\n    this.movieRoomUpdateSubject = new Subject<MovieRoom>();\n\n    this.movieRoomPauseUpdateSubject = new Subject<MovieRoom>();\n    this.movieRoomPlayUpdateSubject = new Subject<MovieRoom>();\n    this.movieRoomSeekUpdateSubject = new Subject<MovieRoom>();\n\n    this.chatMessagesReponseSubject = new Subject<ChatMessage[]>();\n    this.chatMessageUpdateSubject = new Subject<ChatMessage>();\n\n    this.commentsReponseSubject = new Subject<MovieComment[]>();\n    this.commentUpdateSubject = new Subject<MovieComment>();\n  }\n\n  public start(): void {\n    console.debug('Going to connect to the websockets server');\n    this.connect(this.appConfigService.webSocketsServerUrl);\n  }\n\n  public stop(): void {\n    if (this.webSocket != null) {\n      this.webSocket.close();\n    }\n  }\n\n  public subscribeToMovieListResponses(observer: Observer<Movie[]>): void {\n    this.movieListResponseSubject.subscribe(observer);\n  }\n\n  public subscribeToMovieListUpdates(observer: Observer<Movie[]>): void {\n    this.movieListUpdateSubject.subscribe(observer);\n  }\n\n  public subscribeToMovieRoomsResponses(observer: Observer<MovieRoom[]>): void {\n    this.movieRoomsResponseSubject.subscribe(observer);\n  }\n\n  public subscribeToMovieRoomsUpdates(observer: Observer<MovieRoom[]>): void {\n    this.movieRoomsUpdateSubject.subscribe(observer);\n  }\n\n  public subscribeToMovieRoomResponses(observer: Observer<MovieRoom>): void {\n    this.movieRoomResponseSubject.subscribe(observer);\n  }\n\n  public subscribeToMovieRoomUpdates(observer: Observer<MovieRoom>): void {\n    this.movieRoomUpdateSubject.subscribe(observer);\n  }\n\n  public subscribeToMovieRoomPauseUpdates(observer: Observer<MovieRoom>): void {\n    this.movieRoomPauseUpdateSubject.subscribe(observer);\n  }\n\n  public subscribeToMovieRoomPlayUpdates(observer: Observer<MovieRoom>): void {\n    this.movieRoomPlayUpdateSubject.subscribe(observer);\n  }\n\n  public subscribeToMovieRoomSeekUpdates(observer: Observer<MovieRoom>): void {\n    this.movieRoomSeekUpdateSubject.subscribe(observer);\n  }\n\n  public subscribeToChatMessagesReponses(observer: Observer<ChatMessage[]>): void {\n    this.chatMessagesReponseSubject.subscribe(observer);\n  }\n\n  public subscribeToChatMessageUpdates(observer: Observer<ChatMessage>): void {\n    this.chatMessageUpdateSubject.subscribe(observer);\n  }\n\n  public subscribeToMovieCommentsReponses(observer: Observer<MovieComment[]>): void {\n    this.commentsReponseSubject.subscribe(observer);\n  }\n\n  public subscribeToMovieCommentUpdates(observer: Observer<MovieComment>): void {\n    this.commentUpdateSubject.subscribe(observer);\n  }\n\n  private connect(url: string): void {\n    this.webSocket = new WebSocket(url);\n\n    this.webSocket.onopen = function (messageEvent: MessageEvent) {\n      console.info('WebSocket connection has been opened: %o', messageEvent);\n    };\n\n    // we need the \"self\" constant because we cannot use \"this\" inside the function below\n    const self = this;\n\n    this.webSocket.onmessage = function (messageEvent: MessageEvent) {\n      const jsonReceived: string = messageEvent.data;\n\n      console.debug('WebSocket message received: %s', jsonReceived);\n\n      self.authService.authState.subscribe((user) => {\n        if (user !== undefined && user !== null) {\n          self.user = user;\n          self.handleMessage(jsonReceived);\n        }\n      })\n\n    };;\n\n    this.webSocket.onerror = function (messageEvent: MessageEvent) {\n      console.error('WebSocket error observed: %o', messageEvent);\n    };\n\n    this.webSocket.onclose = function (closeEvent: CloseEvent) {\n      console.info('WebSocket connection has been closed: %o', closeEvent);\n    };\n  }\n\n  public sendSaveUserRequest(user: SocialUser): void {\n    const request: SaveUserRequest = new SaveUserRequest(user);\n    const message: MessageWrapper = new MessageWrapper(MessageType.SAVE_USER_REQUEST, request);\n\n    this.sendMessage(this.webSocket, message);\n  }\n\n  public sendMovieListRequest(): void {\n    const request: MovieListRequest = new MovieListRequest();\n    const message: MessageWrapper = new MessageWrapper(MessageType.MOVIE_LIST_REQUEST, request);\n\n    this.sendMessage(this.webSocket, message);\n  }\n\n  public sendMovieStreamRequest(): void {\n    const request: MovieListRequest = new MovieListRequest();\n    const message: MessageWrapper = new MessageWrapper(MessageType.MOVIE_LIST_REQUEST, request);\n\n    this.sendMessage(this.webSocket, message);\n  }\n\n  public sendMovieRoomsRequest(): void {\n    this.authService.authState.subscribe(user => {\n      const request: MovieRoomsRequest = new MovieRoomsRequest(user.id);\n      const message: MessageWrapper = new MessageWrapper(MessageType.MOVIE_ROOMS_REQUEST, request);\n\n      this.sendMessage(this.webSocket, message);\n    });\n  }\n\n  public sendMovieRoomRequest(movieId: string): void {\n    this.authService.authState.subscribe(user => {\n      const request: MovieRoomRequest = new MovieRoomRequest(movieId, user.id);\n      const message: MessageWrapper = new MessageWrapper(MessageType.MOVIE_ROOM_REQUEST, request);\n\n      this.sendMessage(this.webSocket, message);\n    });\n  }\n\n  public sendMovieRoomWithIdRequest(roomId: string): void {\n    this.authService.authState.subscribe(user => {\n      const request: MovieRoomWithIdRequest = new MovieRoomWithIdRequest(roomId, user.id);\n      const message: MessageWrapper = new MessageWrapper(MessageType.MOVIE_ROOM_WITH_ID_REQUEST, request);\n\n      this.sendMessage(this.webSocket, message);\n    });\n  }\n\n  public sendPauseRequest(roomId: string, currentTime: number): void {\n    this.authService.authState.subscribe(user => {\n      const request: MovieRoomPauseRequest = new MovieRoomPauseRequest(roomId, user.id, currentTime);\n      const message: MessageWrapper = new MessageWrapper(MessageType.MOVIE_ROOM_PAUSE_REQUEST, request);\n\n      this.sendMessage(this.webSocket, message);\n    });\n  }\n\n  public sendPlayRequest(roomId: string, currentTime: number): void {\n    this.authService.authState.subscribe(user => {\n      const request: MovieRoomPlayRequest = new MovieRoomPlayRequest(roomId, user.id, currentTime);\n      const message: MessageWrapper = new MessageWrapper(MessageType.MOVIE_ROOM_PLAY_REQUEST, request);\n\n      this.sendMessage(this.webSocket, message);\n    });\n  }\n\n  public sendSeekRequest(roomId: string, currentTime: number): void {\n    this.authService.authState.subscribe(user => {\n      const request: MovieRoomSeekRequest = new MovieRoomSeekRequest(roomId, user.id, currentTime);\n      const message: MessageWrapper = new MessageWrapper(MessageType.MOVIE_ROOM_SEEK_REQUEST, request);\n\n      this.sendMessage(this.webSocket, message);\n    });\n  }\n\n  public sendChatMessagesRequest(roomId: string): void {\n    this.authService.authState.subscribe(user => {\n      const request: ChatMessagesRequest = new ChatMessagesRequest(roomId, user.id);\n      const message: MessageWrapper = new MessageWrapper(MessageType.CHAT_MESSAGES_REQUEST, request);\n\n      this.sendMessage(this.webSocket, message);\n    });\n  }\n\n  public sendChatMessageRequest(roomId: string, chatMessage: ChatMessage): void {\n    this.authService.authState.subscribe(user => {\n      if (user) {\n        chatMessage.User = user\n        const request: SendChatMessageRequest = new SendChatMessageRequest(roomId, user.id, chatMessage);\n        const message: MessageWrapper = new MessageWrapper(MessageType.SEND_CHAT_MESSAGE_REQUEST, request);\n\n        this.sendMessage(this.webSocket, message);\n      }\n    });\n  }\n\n  public sendMovieCommentsRequest(movieId: string): void {\n    const request: MovieCommentsRequest = new MovieCommentsRequest(movieId);\n    const message: MessageWrapper = new MessageWrapper(MessageType.MOVIE_COMMENTS_REQUEST, request);\n\n    this.sendMessage(this.webSocket, message);\n  }\n\n  public sendMovieCommentRequest(movieId: string, comment: MovieComment): void {\n    this.authService.authState.subscribe(user => {\n      if (user) {\n        const request: SendMovieCommentRequest = new SendMovieCommentRequest(movieId, comment);\n        const message: MessageWrapper = new MessageWrapper(MessageType.SEND_MOVIE_COMMENT_REQUEST, request);\n\n        this.sendMessage(this.webSocket, message);\n      }\n    });\n  }\n\n  private waitForOpenConnection(socket: WebSocket) {\n    return new Promise((resolve, reject) => {\n      const maxNumberOfAttempts = 10\n      const intervalTime = 200 //ms\n\n      let currentAttempt = 0\n      const interval = setInterval(() => {\n        if (currentAttempt > maxNumberOfAttempts - 1) {\n          clearInterval(interval)\n          reject(new Error('Maximum number of attempts exceeded'))\n        } else if (socket.readyState === socket.OPEN) {\n          clearInterval(interval)\n          resolve()\n        }\n        currentAttempt++\n      }, intervalTime)\n    })\n  }\n\n  private async sendMessage(socket: WebSocket, message: MessageWrapper) {\n    if (socket.readyState !== socket.OPEN) {\n      try {\n        await this.waitForOpenConnection(socket);\n      } catch (err) {\n        console.error(err)\n        return;\n      }\n    }\n\n    socket.send(JSON.stringify(message))\n  }\n\n  private handleMessage(messageRecieved: string) {\n    let messageWrapper = this.validateAndGetMessage(messageRecieved);\n\n    switch (messageWrapper.type) {\n      case MessageType.MOVIE_LIST_RESPONSE:\n        let movies: Movie[] = [];\n        try {\n          movies = JSON.parse(messageWrapper.payload);\n        } catch (error) {\n          console.error('Movie list reponse: Unable to deserialize Movie[] object: %s',\n            messageWrapper.payload);\n          return;\n        }\n\n        console.debug('Movies message received: %o', movies);\n        this.movieListResponseSubject.next(movies);\n        break;\n      case MessageType.MOVIE_ROOMS_RESPONSE:\n        let rooms: MovieRoom[];\n        try {\n          rooms = JSON.parse(messageWrapper.payload);\n        } catch (error) {\n          console.error('Room reponse: Unable to deserialize MovieRoom object: %s',\n            messageWrapper.payload);\n          return;\n        }\n\n        console.debug('Room received: %o', rooms);\n        this.movieRoomsResponseSubject.next(rooms);\n        break;\n\n      case MessageType.MOVIE_ROOMS_UPDATE:\n        let roomsUpdated: MovieRoom[];\n        try {\n          roomsUpdated = JSON.parse(messageWrapper.payload);\n        } catch (error) {\n          console.error('Room reponse: Unable to deserialize MovieRoom object: %s',\n            messageWrapper.payload);\n          return;\n        }\n\n        console.debug('Room received: %o', roomsUpdated);\n        this.movieRoomsUpdateSubject.next(roomsUpdated);\n        break;\n\n\n      case MessageType.MOVIE_ROOM_RESPONSE:\n        let room: MovieRoom;\n        try {\n          room = JSON.parse(messageWrapper.payload);\n        } catch (error) {\n          console.error('Room reponse: Unable to deserialize MovieRoom object: %s',\n            messageWrapper.payload);\n          return;\n        }\n\n        console.debug('Room received: %o', room);\n        this.movieRoomResponseSubject.next(room);\n        break;\n\n      case MessageType.MOVIE_ROOM_UPDATE:\n        let roomUpdated: MovieRoom;\n        try {\n          roomUpdated = JSON.parse(messageWrapper.payload);\n        } catch (error) {\n          console.error('Room update: Unable to deserialize MovieRoom object: %s',\n            messageWrapper.payload);\n          return;\n        }\n\n        console.debug('Room received: %o', roomUpdated);\n        this.movieRoomUpdateSubject.next(roomUpdated);\n        break;\n\n      case MessageType.MOVIE_ROOM_PLAY_UPDATE:\n        let roomActionPlay: MovieRoomAction;\n        try {\n          roomActionPlay = JSON.parse(messageWrapper.payload);\n        } catch (error) {\n          console.error('Play video: Unable to deserialize MovieRoomAction object: %s',\n            messageWrapper.payload);\n          return;\n        }\n\n        if (roomActionPlay.UserId === this.user.id) {\n          return;\n        }\n\n        console.debug('Room received: %o', roomActionPlay.Room);\n        this.movieRoomPlayUpdateSubject.next(roomActionPlay.Room);\n        break;\n\n      case MessageType.MOVIE_ROOM_PAUSE_UPDATE:\n        let roomActionPause: MovieRoomAction;\n        try {\n          roomActionPause = JSON.parse(messageWrapper.payload);\n        } catch (error) {\n          console.error('Pause video: Unable to deserialize MovieRoomAction object: %s',\n            messageWrapper.payload);\n          return;\n        }\n\n        if (roomActionPause.UserId === this.user.id) {\n          return;\n        }\n\n        console.debug('Room received: %o', roomActionPause.Room);\n        this.movieRoomPauseUpdateSubject.next(roomActionPause.Room);\n        break;\n\n      case MessageType.MOVIE_ROOM_SEEK_UPDATE:\n        let roomActionSeek: MovieRoomAction;\n        try {\n          roomActionSeek = JSON.parse(messageWrapper.payload);\n        } catch (error) {\n          console.error('Seek video: Unable to deserialize MovieRoomAction object: %s',\n            messageWrapper.payload);\n          return;\n        }\n\n        if (roomActionSeek.UserId === this.user.id) {\n          return;\n        }\n\n        console.debug('Room received: %o', roomActionSeek.Room);\n        this.movieRoomSeekUpdateSubject.next(roomActionSeek.Room);\n        break;\n\n      case MessageType.CHAT_MESSAGES_RESPONSE:\n        let messages: ChatMessage[];\n        try {\n          messages = JSON.parse(messageWrapper.payload);\n        } catch (error) {\n          console.error('Get chat messages response: Unable to deserialize ChatMessage[] object: %s',\n            messageWrapper.payload);\n          return;\n        }\n\n        console.debug('Chat Message received: %o', messages);\n        this.chatMessagesReponseSubject.next(messages);\n        break;\n\n      case MessageType.CHAT_MESSAGE_UPDATE:\n        let message: ChatMessage;\n        try {\n          message = JSON.parse(messageWrapper.payload);\n        } catch (error) {\n          console.error('Get chat message rupdate : Unable to deserialize ChatMessage object: %s',\n            messageWrapper.payload);\n          return;\n        }\n\n        if (message.User.id === this.user.id) {\n          // if the message was sent by the current user, exit\n          return;\n        }\n\n        console.debug('Chat Message received: %o', message);\n        this.chatMessageUpdateSubject.next(message);\n        break;\n\n        case MessageType.MOVIE_COMMENTS_RESPONSE:\n          let comments: MovieComment[];\n          try {\n            comments = JSON.parse(messageWrapper.payload);\n          } catch (error) {\n            console.error('Get movie comments response: Unable to deserialize MovieComment[] object: %s',\n              messageWrapper.payload);\n            return;\n          }\n  \n          console.debug('Movie comments received: %o', comments);\n          this.commentsReponseSubject.next(comments);\n          break;\n  \n        case MessageType.MOVIE_COMMENT_UPDATE:\n          let comment: MovieComment;\n          try {\n            comment = JSON.parse(messageWrapper.payload);\n          } catch (error) {\n            console.error('Get movie comment update : Unable to deserialize MovieComment object: %s',\n              messageWrapper.payload);\n            return;\n          }\n  \n          if (comment.User.id === this.user.id) {\n            // if the message was sent by the current user, exit\n            return;\n          }\n  \n          console.debug('Chat Message received: %o', comment);\n          this.commentUpdateSubject.next(comment);\n          break;\n\n      default: break;\n    }\n  }\n\n  private validateAndGetMessage(messageReceived: string) {\n    let messageWrapper: MessageWrapper;\n    try {\n      messageWrapper = JSON.parse(messageReceived);\n    } catch (error) {\n      console.error('Unable to parse received JSON string: %s\\n%o',\n        messageReceived, error);\n      return;\n    }\n\n    if (!messageWrapper.hasOwnProperty('type') ||\n      !messageWrapper.hasOwnProperty('payload')) {\n      console.error('Invalid message received, not the correct properties: %s',\n        messageReceived);\n      return;\n    }\n\n    return messageWrapper;\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}